syntax = "proto3";

package oms.common.v1;

option go_package = "github.com/hawful70/oms/contracts/oms/common/v1;commonv1";

import "google/protobuf/timestamp.proto";

// Meta carries event metadata for traceability and ordering.
message Meta {
  string event_id = 1;               // unique event id (UUID)
  string correlation_id = 2;         // ties related events across a flow
  string causation_id = 3;           // the event that caused this event
  string producer = 4;               // service name
  google.protobuf.Timestamp occurred_at = 5; // event time
  string version = 6;                // schema version, e.g. v1
}

// Item used in Orders API and events. Name/price may be enriched later.
message Item {
  string id = 1;
  string name = 2;
  int32 quantity = 3;
  string price_id = 4;
}

// ItemWithQuantity for inputs or reservation messages.
message ItemWithQuantity {
  string id = 1;
  int32 quantity = 2;
}

